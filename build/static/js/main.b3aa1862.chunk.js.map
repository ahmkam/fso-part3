{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/PersonsApi.js","App.js","index.js"],"names":["Filter","props","value","nameSearch","onChange","Persons","persons","map","item","i","key","name","number","onClick","deletePerson","PersonForm","onSubmit","addPerson","newName","onNameChange","newNumber","onNumberChange","type","Notification","message","className","axios","get","then","response","data","newObject","post","id","delete","App","useState","setPersons","setNewName","setNewNumber","setNameSearch","notificationMessage","setNotificationMessage","useEffect","personsApi","records","filteredPersons","filter","toLocaleLowerCase","includes","event","target","preventDefault","length","alert","personToAdd","responseData","concat","setTimeout","person","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b3aa1862.chunk.js","sourcesContent":["import React from \"react\";\nconst Filter = props => {\n  return (\n    <div>\n      search: <input value={props.nameSearch} onChange={props.onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Persons = props => {\n  return (\n    <div>\n      {props.persons.map((item, i) => (\n        <p key={i}>\n          {item.name} {item.number}{\" \"}\n          <button onClick={() => props.deletePerson(item)}>delete</button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst PersonForm = props => {\n  return (\n    <div>\n      <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.onNameChange} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input value={props.newNumber} onChange={props.onNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\nexport default PersonForm;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"success\">{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAllRecords = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst addPersonToServer = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst deletePerson = (id, newObject) => {\n  const request = axios.delete(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nexport default {\n  getAllRecords: getAllRecords,\n  addPersonToServer: addPersonToServer,\n  deletePerson: deletePerson\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport personsApi from \"./services/PersonsApi\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameSearch, setNameSearch] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n\n  useEffect(() => {\n    personsApi.getAllRecords().then(records => {\n      setPersons(records);\n    });\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    if (persons.filter(item => item.name === newName).length > 0) {\n      alert(`${newName} is already added to phonebook`);\n      return;\n    }\n\n    const personToAdd = {\n      name: newName,\n      number: newNumber\n    };\n\n    personsApi.addPersonToServer(personToAdd).then(responseData => {\n      setPersons(persons.concat(personToAdd));\n      setNewName(\"\");\n      setNewNumber(\"\");\n\n      setNotificationMessage(`Added ${personToAdd.name}`);\n      setTimeout(() => setNotificationMessage(null), 2000);\n    });\n  };\n\n  const deletePerson = item => {\n    if (window.confirm(`Delete ${item.name}`)) {\n      personsApi.deletePerson(item.id).then(responseData => {\n        const data = persons.filter(person => person.id !== item.id);\n        setPersons(data);\n      });\n    }\n  };\n\n  const onNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const onNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const onSearchChange = event => {\n    setNameSearch(event.target.value);\n  };\n\n  //filtering logic => name contains any of the search text\n  const filteredPersons =\n    nameSearch !== \"\"\n      ? persons.filter(item =>\n          item.name.toLocaleLowerCase().includes(nameSearch.toLocaleLowerCase())\n        )\n      : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notificationMessage} />\n\n      <Filter nameSearch={nameSearch} onChange={onSearchChange} />\n\n      <h2>Add a new number</h2>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        onNameChange={onNameChange}\n        newNumber={newNumber}\n        onNumberChange={onNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={filteredPersons}\n        deletePerson={person => deletePerson(person)}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}